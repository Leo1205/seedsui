<!doctype html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
	<meta name="format-detection" content="telephone=no">
	<title>tree</title>
	<link rel="stylesheet" href="../scripts/lib/seedsui/seedsui.min.css">
</head>

<body ontouchstart="">
	<header>
	    <div class="titlebar">
	    	<a class="titlebar-button" href="javascript:back()">
	            <i class="icon icon-arrowleft"></i>
	        </a>
	        <h1 class="titlebar-title">树结构</h1>
	    </div>
	</header>
	<article style="padding-top:52px;">
		<div class="tree-box" id="ID-Tree-Box">
			<ul class="tree" id="ID-Tree-List"></ul>
		</div>
	</article>
	<!--SeedsUI-->
    <script src="../scripts/lib/seedsui/seedsui.min.js"></script>
    <script src="tree.data.js"></script>
    <!--Exmobi能力-->
    <!--<script src="../scripts/lib/exmobi/exmobi.js"></script>-->
	<script>
	var view={
        /*=========================
          Model
          ===========================*/
        render:function(){
            var self = this;
            //渲染页面
            this.tree=new Tree("#ID-Tree-List",{
            	data:data,
            	onData:function(option){
                    if(option.loginId){
                        var photo="";
                        if(option.avatarUrl){
                            photo='<span class="tree-photo" style="background-image:url('+option.avatarUrl+')"></span>';
                        }else{
                            photo='<span class="tree-photo" style="background-color:'+option.name.substr(0,1).toPinyin().substr(0,1).toColor()+'">'+option.name.substr(option.name.length-2,2)+'</span>';
                        }
                        option.html='<div class="tree-icon">'+photo+'</div>'+
                        '<div class="tree-title">'+option.name+'</div>';
                    }
                },
	            onClick:function(e){
	            	/*console.log("点击行："+e.targetLine);
                    console.log("点击元素："+e.target);
                    console.log("点击的li："+e.targetLi);*/
	            },
	            onClickLastChild:function(s){
	                console.log("没有子节点");
	            }
	        });
        },

        /*=========================
          Method
          ===========================*/
        
        /*=========================
          Events
          ===========================*/

        /*=========================
          Event Handler
          ===========================*/
    }

    window.addEventListener("load",function(){
        view.render();
    }, false);
	//定义exmobi返回
	function back(){history.go(-1);}
	</script>
</body>
</html>